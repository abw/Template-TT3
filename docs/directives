=head1 TT3 COMMAND DIRECTIVES

=head2 block

Defines a content block.  Can be used in "anonymous block" form:

    block;
        ...;
    end;

You can assign a block to a variable to capture the content.

    content = block;
        ...;
    end;

You can also create named blocks

    block foo;
        ...;
    end;
    
    fill foo;

=head2 is

C<is> is like C<=> but expects a block on the RHS instead of an expression.
In pseudo-grammar terms:

    <var> = <expr>
    <var> is <block>  

Thus C<is> is the same thing as:

    <var> = block; <block>; end 

Here's an example:

    a is;                 # same as: a = block; ...; end
       ...;
    end;

=head2 as

C<as> is similar to C<is> but with its arguments in a different order.

    as <var> <block>
    <expr> as <var>

Example:

    as foo;               # same as: foo is; ...; end
        ...;
    end;

It works nicely in side-effect form:

    fill foo              # same as: content = fill foo
      as content   

=head2 fill

The new name for PROCESS

    fill template.html    # same as TT2: PROCESS template.html

=head2 with

C<with> creates a local variable scope for a block.

    x=1; y=2; z=3;
    
    # create a block with local variables
    with x=10 y=20;
       "x is $x\n";       # x is 10
       "y is $y\n";       # y is 20
       z = 30;            # local change only
       "z is $z\n";       # z is 30
    end;

    # original values 
    "x is $x\n";          # x is 1
    "y is $y\n";          # y is 2
    "z is $z\n";          # z is 3

C<with> also works in side-effect form:

    fill template.html    # same as TT2: INCLUDE template.html x=10 y=20
    with x=10 y=20

=head2 just

C<just> is similar to C<with> but it create a local scope that I<only>
contains the variables specified.

    x=1; y=2;
    
    just x=5;
        "x is $x\n";      # x is 5
        if y;
            # not reached - y is not defined in this inner scope
        end;
        z = 20;           # local change only
    end;

    if z;
        # not reached - z is not defined in this outer scope
    end;

=head2 into

C<into> is the new name for WRAPPER.

    block foo;
       "Hello $content";
    end

    into foo;             # Hello World
       "World";
    end;

Note that C<into> is equivalent to the following:

    fill foo with content as;
        "World";
    end;
        

C<into> also works in side-effect notation

    fill site/content
    info site/layout

=head2 for

Used to loop through lists

    for a in b;         # iterate over contents of list b, or just b if not a list
        ...;
    end
    
    for a in [b,c,d];   # inline list definition
        ...;
    end
    
    for a in 1..10;     # ranges generate lists to iterate over
        ...;
    end;
    
    for a in 1 to 10;   # 'to' is an alias for '..'
        ...;
    end
    
    for a in 10 to 20 by 2;     # 'by' allows you to specify step
        ...;
    end

=head2 if

if / elsif / else - conditional branches

    if a;                       # simple test
       ...;
    end
    
    if a < 10 and b > 20;       # arbitrarily complex expression
       ...;
    end
    
    if a;
        ...;
    elsif b;
        ...;
    else;
        ...;
    end;

